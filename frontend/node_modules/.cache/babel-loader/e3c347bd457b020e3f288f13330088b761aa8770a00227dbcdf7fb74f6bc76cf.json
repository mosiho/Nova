{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import{CubeIcon,CheckIcon,XIcon}from'@heroicons/react/outline';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Recommendations=()=>{const[recommendations,setRecommendations]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[actionInProgress,setActionInProgress]=useState(null);useEffect(()=>{const fetchRecommendations=async()=>{try{// In a real app this would be a real API endpoint\nconst response=await axios.get('/api/supplements/recommendations');setRecommendations(response.data.data||[]);setLoading(false);}catch(err){var _err$response,_err$response$data;console.error('Error fetching recommendations:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to load recommendations');setLoading(false);}};fetchRecommendations();},[]);const handleAcceptRecommendation=async id=>{setActionInProgress(id);try{// In a real app this would be a real API call\nawait new Promise(resolve=>setTimeout(resolve,800));setRecommendations(prevRecs=>prevRecs.map(rec=>rec._id===id?{...rec,isAccepted:true}:rec));}catch(err){console.error('Error accepting recommendation:',err);}finally{setActionInProgress(null);}};const handleRejectRecommendation=async id=>{setActionInProgress(id);try{// In a real app this would be a real API call\nawait new Promise(resolve=>setTimeout(resolve,800));setRecommendations(prevRecs=>prevRecs.filter(rec=>rec._id!==id));}catch(err){console.error('Error rejecting recommendation:',err);}finally{setActionInProgress(null);}};// Priority labels and styles\nconst getPriorityLabel=priority=>{if(priority>=8)return{label:'High',classes:'bg-red-100 text-red-800'};if(priority>=5)return{label:'Medium',classes:'bg-yellow-100 text-yellow-800'};return{label:'Low',classes:'bg-green-100 text-green-800'};};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex h-96 items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold text-gray-900\",children:\"Supplement Recommendations\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border-l-4 border-red-400 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(XIcon,{className:\"h-5 w-5 text-red-400\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700\",children:error})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow overflow-hidden sm:rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:px-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",children:\"Personalized Recommendations\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 max-w-2xl text-sm text-gray-500\",children:\"Based on your lab test results, we recommend the following supplements to improve your health.\"})]}),recommendations.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:recommendations.map(recommendation=>{const priority=getPriorityLabel(recommendation.priority);return/*#__PURE__*/_jsx(\"li\",{className:\"p-4 sm:p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sm:w-1/4 mb-4 sm:mb-0 sm:mr-6\",children:/*#__PURE__*/_jsx(Link,{to:`/supplements/${recommendation.supplementId._id}`,className:\"block\",children:/*#__PURE__*/_jsx(\"div\",{className:\"aspect-w-16 aspect-h-9 bg-gray-200 rounded-lg overflow-hidden\",children:recommendation.supplementId.imageUrl?/*#__PURE__*/_jsx(\"img\",{src:recommendation.supplementId.imageUrl,alt:recommendation.supplementId.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex items-center justify-center bg-gray-100\",children:/*#__PURE__*/_jsx(CubeIcon,{className:\"h-12 w-12 text-gray-400\"})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:w-3/4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:justify-between sm:items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:`/supplements/${recommendation.supplementId._id}`,className:\"text-lg font-medium text-blue-600 hover:text-blue-800\",children:recommendation.supplementId.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:[\"Based on your \",recommendation.labTestId.name,\" results from \",new Date(recommendation.labTestId.date).toLocaleDateString()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 sm:mt-0\",children:/*#__PURE__*/_jsxs(\"span\",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${priority.classes}`,children:[priority.label,\" Priority\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900\",children:\"Why we recommend this:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-600\",children:recommendation.reason})]}),recommendation.dosage&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900\",children:\"Recommended Dosage:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-600\",children:recommendation.dosage})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex flex-col sm:flex-row sm:items-center justify-between gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-medium text-gray-900\",children:[\"$\",recommendation.supplementId.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-3\",children:recommendation.isAccepted?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-green-700 bg-green-100\",children:[/*#__PURE__*/_jsx(CheckIcon,{className:\"h-5 w-5 mr-1\"}),\"Added to Supplements\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>handleAcceptRecommendation(recommendation._id),disabled:!!actionInProgress,className:\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\",children:[actionInProgress===recommendation._id?/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}):/*#__PURE__*/_jsx(CheckIcon,{className:\"h-5 w-5 mr-1\"}),\"Accept\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>handleRejectRecommendation(recommendation._id),disabled:!!actionInProgress,className:\"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\",children:[actionInProgress===recommendation._id?/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-700\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}):/*#__PURE__*/_jsx(XIcon,{className:\"h-5 w-5 mr-1\"}),\"Decline\"]})]})})]})]})]})},recommendation._id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(CubeIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No recommendations yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"We'll generate personalized recommendations once you upload lab test results.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(Link,{to:\"/lab-tests/upload\",className:\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Upload Lab Test\"})})]})]})]});};export default Recommendations;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","CubeIcon","CheckIcon","XIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Recommendations","recommendations","setRecommendations","loading","setLoading","error","setError","actionInProgress","setActionInProgress","fetchRecommendations","response","get","data","err","_err$response","_err$response$data","console","message","handleAcceptRecommendation","id","Promise","resolve","setTimeout","prevRecs","map","rec","_id","isAccepted","handleRejectRecommendation","filter","getPriorityLabel","priority","label","classes","className","children","length","recommendation","to","supplementId","imageUrl","src","alt","name","labTestId","Date","date","toLocaleDateString","reason","dosage","price","toFixed","type","onClick","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d"],"sources":["/Users/mosiho/Projects/Nova/frontend/src/pages/Recommendations/Recommendations.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { CubeIcon, CheckIcon, XIcon } from '@heroicons/react/outline';\n\ninterface Recommendation {\n  _id: string;\n  supplementId: {\n    _id: string;\n    name: string;\n    category: string;\n    imageUrl?: string;\n    price: number;\n  };\n  labTestId: {\n    _id: string;\n    name: string;\n    date: string;\n  };\n  reason: string;\n  priority: number;\n  dosage?: string;\n  isAccepted: boolean;\n}\n\nconst Recommendations: React.FC = () => {\n  const [recommendations, setRecommendations] = useState<Recommendation[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [actionInProgress, setActionInProgress] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchRecommendations = async () => {\n      try {\n        // In a real app this would be a real API endpoint\n        const response = await axios.get('/api/supplements/recommendations');\n        setRecommendations(response.data.data || []);\n        setLoading(false);\n      } catch (err: any) {\n        console.error('Error fetching recommendations:', err);\n        setError(err.response?.data?.message || 'Failed to load recommendations');\n        setLoading(false);\n      }\n    };\n\n    fetchRecommendations();\n  }, []);\n\n  const handleAcceptRecommendation = async (id: string) => {\n    setActionInProgress(id);\n    try {\n      // In a real app this would be a real API call\n      await new Promise(resolve => setTimeout(resolve, 800));\n      setRecommendations(prevRecs => \n        prevRecs.map(rec => \n          rec._id === id ? { ...rec, isAccepted: true } : rec\n        )\n      );\n    } catch (err) {\n      console.error('Error accepting recommendation:', err);\n    } finally {\n      setActionInProgress(null);\n    }\n  };\n\n  const handleRejectRecommendation = async (id: string) => {\n    setActionInProgress(id);\n    try {\n      // In a real app this would be a real API call\n      await new Promise(resolve => setTimeout(resolve, 800));\n      setRecommendations(prevRecs => \n        prevRecs.filter(rec => rec._id !== id)\n      );\n    } catch (err) {\n      console.error('Error rejecting recommendation:', err);\n    } finally {\n      setActionInProgress(null);\n    }\n  };\n\n  // Priority labels and styles\n  const getPriorityLabel = (priority: number) => {\n    if (priority >= 8) return { label: 'High', classes: 'bg-red-100 text-red-800' };\n    if (priority >= 5) return { label: 'Medium', classes: 'bg-yellow-100 text-yellow-800' };\n    return { label: 'Low', classes: 'bg-green-100 text-green-800' };\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex h-96 items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Supplement Recommendations</h1>\n      </div>\n      \n      {error && (\n        <div className=\"bg-red-50 border-l-4 border-red-400 p-4\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <XIcon className=\"h-5 w-5 text-red-400\" />\n            </div>\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-red-700\">{error}</p>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n        <div className=\"px-4 py-5 sm:px-6\">\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n            Personalized Recommendations\n          </h3>\n          <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">\n            Based on your lab test results, we recommend the following supplements to improve your health.\n          </p>\n        </div>\n        \n        {recommendations.length > 0 ? (\n          <ul className=\"divide-y divide-gray-200\">\n            {recommendations.map((recommendation) => {\n              const priority = getPriorityLabel(recommendation.priority);\n              \n              return (\n                <li key={recommendation._id} className=\"p-4 sm:p-6\">\n                  <div className=\"flex flex-col sm:flex-row\">\n                    <div className=\"sm:w-1/4 mb-4 sm:mb-0 sm:mr-6\">\n                      <Link to={`/supplements/${recommendation.supplementId._id}`} className=\"block\">\n                        <div className=\"aspect-w-16 aspect-h-9 bg-gray-200 rounded-lg overflow-hidden\">\n                          {recommendation.supplementId.imageUrl ? (\n                            <img \n                              src={recommendation.supplementId.imageUrl} \n                              alt={recommendation.supplementId.name} \n                              className=\"w-full h-full object-cover\"\n                            />\n                          ) : (\n                            <div className=\"w-full h-full flex items-center justify-center bg-gray-100\">\n                              <CubeIcon className=\"h-12 w-12 text-gray-400\" />\n                            </div>\n                          )}\n                        </div>\n                      </Link>\n                    </div>\n                    \n                    <div className=\"sm:w-3/4\">\n                      <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-start\">\n                        <div>\n                          <Link \n                            to={`/supplements/${recommendation.supplementId._id}`}\n                            className=\"text-lg font-medium text-blue-600 hover:text-blue-800\"\n                          >\n                            {recommendation.supplementId.name}\n                          </Link>\n                          <p className=\"text-sm text-gray-500 mt-1\">\n                            Based on your {recommendation.labTestId.name} results from {new Date(recommendation.labTestId.date).toLocaleDateString()}\n                          </p>\n                        </div>\n                        \n                        <div className=\"mt-2 sm:mt-0\">\n                          <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${priority.classes}`}>\n                            {priority.label} Priority\n                          </span>\n                        </div>\n                      </div>\n                      \n                      <div className=\"mt-3\">\n                        <h4 className=\"text-sm font-medium text-gray-900\">Why we recommend this:</h4>\n                        <p className=\"mt-1 text-sm text-gray-600\">{recommendation.reason}</p>\n                      </div>\n                      \n                      {recommendation.dosage && (\n                        <div className=\"mt-3\">\n                          <h4 className=\"text-sm font-medium text-gray-900\">Recommended Dosage:</h4>\n                          <p className=\"mt-1 text-sm text-gray-600\">{recommendation.dosage}</p>\n                        </div>\n                      )}\n                      \n                      <div className=\"mt-4 flex flex-col sm:flex-row sm:items-center justify-between gap-3\">\n                        <div className=\"text-lg font-medium text-gray-900\">\n                          ${recommendation.supplementId.price.toFixed(2)}\n                        </div>\n                        \n                        <div className=\"flex space-x-3\">\n                          {recommendation.isAccepted ? (\n                            <span className=\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-green-700 bg-green-100\">\n                              <CheckIcon className=\"h-5 w-5 mr-1\" />\n                              Added to Supplements\n                            </span>\n                          ) : (\n                            <>\n                              <button\n                                type=\"button\"\n                                onClick={() => handleAcceptRecommendation(recommendation._id)}\n                                disabled={!!actionInProgress}\n                                className=\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                              >\n                                {actionInProgress === recommendation._id ? (\n                                  <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                                  </svg>\n                                ) : (\n                                  <CheckIcon className=\"h-5 w-5 mr-1\" />\n                                )}\n                                Accept\n                              </button>\n                              <button\n                                type=\"button\"\n                                onClick={() => handleRejectRecommendation(recommendation._id)}\n                                disabled={!!actionInProgress}\n                                className=\"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                              >\n                                {actionInProgress === recommendation._id ? (\n                                  <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-700\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                                  </svg>\n                                ) : (\n                                  <XIcon className=\"h-5 w-5 mr-1\" />\n                                )}\n                                Decline\n                              </button>\n                            </>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </li>\n              );\n            })}\n          </ul>\n        ) : (\n          <div className=\"text-center py-12\">\n            <CubeIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No recommendations yet</h3>\n            <p className=\"mt-1 text-sm text-gray-500\">We'll generate personalized recommendations once you upload lab test results.</p>\n            <div className=\"mt-6\">\n              <Link\n                to=\"/lab-tests/upload\"\n                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Upload Lab Test\n              </Link>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Recommendations; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}